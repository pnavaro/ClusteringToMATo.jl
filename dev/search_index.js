var documenterSearchIndex = {"docs":
[{"location":"demo2/#TDA-examples","page":"TDA datasets","title":"TDA examples","text":"","category":"section"},{"location":"demo2/","page":"TDA datasets","title":"TDA datasets","text":"using Plots\nusing DelimitedFiles\nusing ClusteringToMATo\ngr(fmt = :png) # useful to plot a large size of scatter points\noptions = (ms=1, aspect_ratio=1, markerstrokewidth=0)","category":"page"},{"location":"demo2/","page":"TDA datasets","title":"TDA datasets","text":"download(\"https://raw.githubusercontent.com/MathieuCarriere/sklearn-tda/master/example/inputs/spiral_w_o_density.txt\", \n\"spiral_w_o_density.txt\")\n\npoints = collect(transpose(readdlm(joinpath(\"spiral_w_o_density.txt\"))))","category":"page"},{"location":"demo2/","page":"TDA datasets","title":"TDA datasets","text":"g = BallGraph(87)\nf = KNNDensity(87)\ntau = 7.5e-7\n\nlabels, intervals = tomato(points, g, f, tau)\n\nscatter(points[1, :], points[2, :], c = labels; options...)","category":"page"},{"location":"demo2/","page":"TDA datasets","title":"TDA datasets","text":"download(\"https://raw.githubusercontent.com/MathieuCarriere/sklearn-tda/master/example/inputs/toy_example_w_o_density.txt\",\n\"toy_example_w_o_density.txt\") \ntoy = collect(transpose(readdlm(joinpath(\"toy_example_w_o_density.txt\"))))","category":"page"},{"location":"demo2/","page":"TDA datasets","title":"TDA datasets","text":"g = BallGraph(1.0)\nf = KNNDensity(100)\ntau = 0.01\n\nlabels, intervals = tomato(toy, g, f, tau)\n\nscatter(view(toy,1, :), view(toy,2,:), c = labels; options... )","category":"page"},{"location":"demo1/#FCPS-datasets-examples","page":"FCPS data","title":"FCPS datasets examples","text":"","category":"section"},{"location":"demo1/","page":"FCPS data","title":"FCPS data","text":"We use data from ","category":"page"},{"location":"demo1/","page":"FCPS data","title":"FCPS data","text":"Ultsch, A.; Lötsch, J. The Fundamental Clustering and Projection Suite (FCPS): A Dataset Collection to Test the Performance of Clustering and Data Projection Algorithms. Data 2020, 5, 13. https://doi.org/10.3390/data5010013","category":"page"},{"location":"demo1/","page":"FCPS data","title":"FCPS data","text":"using ClusteringToMATo\nusing Plots\nusing DelimitedFiles\nimport Clustering\n\nfunction read_csv(filepath)\n    data, columns = readdlm(filepath, ',',  header=true)\n    return collect(data[:,2:end]'), Int.(data[:,1])\nend","category":"page"},{"location":"demo1/","page":"FCPS data","title":"FCPS data","text":"points, true_labels = read_csv(joinpath(\"data\", \"TwoDiamonds.csv\"))\np = plot(layout=(1,2))\nscatter!(p[1,1], points[1,:], points[2,:], c = Int.(true_labels), \nms=3, aspect_ratio=:equal, markerstrokewidth=0,label=\"\")\ng = BallGraph(0.25)\nf = KNNDensity(20)\ntau = 0.25\n\nlabels, intervals = tomato(points, g, f, tau)\nscatter!(p[1,2], points[1,:], points[2, :], c = labels, \n      label=\"\", ms=3, markerstrokewidth=0, aspect_ratio=1)\ntitle!(p[1,1], \" NMI = $(Clustering.mutualinfo(true_labels, labels))\")","category":"page"},{"location":"demo1/","page":"FCPS data","title":"FCPS data","text":"points, true_labels = read_csv(joinpath(\"data\", \"Lsun.csv\"))\np = plot(layout=(1,2))\nscatter!(p[1,1], points[1,:], points[2,:], c = true_labels, \nms=3, aspect_ratio=:equal, markerstrokewidth=0,label=\"\")\ng = KNNGraph(10)\nf = KNNDensity(5)\ntau = 0.6\nlabels, intervals = tomato(points, g, f, tau)\nscatter!(p[1,2], points[1,:], points[2, :], c = labels, \n      label=\"\", ms=3, markerstrokewidth=0, aspect_ratio=1)\ntitle!(p[1,1], \" NMI = $(Clustering.mutualinfo(true_labels, labels))\")","category":"page"},{"location":"demo1/","page":"FCPS data","title":"FCPS data","text":"points, true_labels = read_csv(joinpath(\"data\", \"Atom.csv\"))\np = plot(layout=(1,2))\nscatter!(p[1,1], points[1,:], points[2,:], points[3, :], c = true_labels, \nms=3, aspect_ratio=:equal, markerstrokewidth=0,label=\"\")\ng = BallGraph(15)\nf = KNNDensity(10)\ntau = 0.0000515\nlabels, intervals = tomato(points, g, f, tau)\nscatter!(p[1,2], points[1,:], points[2, :], points[3, :], c = labels, \n      label=\"\", ms=3, markerstrokewidth=0, aspect_ratio=1)\ntitle!(p[1,1], \" NMI = $(Clustering.mutualinfo(true_labels, labels))\")","category":"page"},{"location":"demo1/","page":"FCPS data","title":"FCPS data","text":"points, true_labels = read_csv(joinpath(\"data\", \"Chainlink.csv\"))\n\np = plot(layout=(1,2))\nscatter!(p[1,1], points[1,:], points[2,:], points[3, :], c = true_labels, \nms=3, aspect_ratio=:equal, markerstrokewidth=0,label=\"\")\ng = KNNGraph(10)\nf = KNNDensity(100)\ntau = 0.2\nlabels, intervals = tomato(points, g, f, tau)\nscatter!(p[1,2], points[1,:], points[2, :], points[3, :], c = labels, \n      label=\"\", ms=3, markerstrokewidth=0, aspect_ratio=1)\ntitle!(p[1,1], \" NMI = $(Clustering.mutualinfo(true_labels, labels))\")","category":"page"},{"location":"demo1/","page":"FCPS data","title":"FCPS data","text":"points, true_labels = read_csv(joinpath(\"data\", \"EngyTime.csv\"))\n\np = plot(layout=(1,2))\nscatter!(p[1,1], points[1,:], points[2,:], c = true_labels, \nms=3, aspect_ratio=:equal, markerstrokewidth=0,label=\"\")\ng = BallGraph(1.0)\nf = KNNDensity(10)\ntau = 0.1\nlabels, intervals = tomato(points, g, f, tau)\nscatter!(p[1,2], points[1,:], points[2, :], c = labels, \n      label=\"\", ms=3, markerstrokewidth=0, aspect_ratio=1)\ntitle!(p[1,1], \" NMI = $(Clustering.mutualinfo(true_labels, labels))\")","category":"page"},{"location":"#ClusteringToMATo.jl","page":"Home","title":"ClusteringToMATo.jl","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Documentation for ClusteringToMATo.jl","category":"page"},{"location":"#Create-some-data","page":"Home","title":"Create some data","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"using ClusteringToMATo\nusing Plots\n\nfunction noisy_circle(n; r1=1, r2=1, noise=0.1)\n    points = zeros(2, n)\n    for i in 1:n\n        θ = 2π * rand()\n        point = (\n            r1 * sin(θ) + noise * rand() - noise / 2,\n            r2 * cos(θ) + noise * rand() - noise / 2,\n        )\n        points[:,i] .= point\n    end\n    return points\nend\n\npoints = hcat(noisy_circle(500), noisy_circle(500, r1=0.5, r2=0.5))\nscatter(points[1,:], points[2,:], aspect_ratio=1)","category":"page"},{"location":"#Density-estimator","page":"Home","title":"Density estimator","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Several are available: BallDensity, KNNDensity, GaussianNN, GaussianCutoff, DTM. Each of these estimators uses one or two parameters.","category":"page"},{"location":"","page":"Home","title":"Home","text":"f = compute_density(DTM(10), points)\nscatter(points[1,:], points[2,:], marker_z = f, aspect_ratio=1, markerstrokewidth=0)","category":"page"},{"location":"#Neighborhood-graph","page":"Home","title":"Neighborhood graph","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"ToMATo relies on the neighborhood information encoded in the input graph. Two options are available:","category":"page"},{"location":"","page":"Home","title":"Home","text":"BallGraph connects two data points when they lie within distance δ of each other.  Different choices of delta may reveal different structures. This is why we recommend running ToMATo at several scales. For too large values of δ there will be no real structure in the persistence diagram, while too small values will produce too many infinitely prominent peaks in the persistence diagram, corresponding to the connected components of the graph.\nKNNGraph the k-nearest neighbor graph. You get correct clusters under a suitable  choice of parameter k accomplished by trial-and-error.","category":"page"},{"location":"","page":"Home","title":"Home","text":"graph = compute_graph(BallGraph(0.1), points)","category":"page"},{"location":"#Merging-parameter","page":"Home","title":"Merging parameter","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"τ determines which peaks of f are considered significant.  To choose it, call the function with τ set to Inf, and plot the persistence diagram. It reveals the topological structure of f, providing the height and prominence of each peak of f. In cases where the persistence diagram of f shows a large gap separating a small set of k highly prominent peaks from the rest of the structure, we infer that the number of clusters is likely to be k, and so you can set τ to be any value between the prominences of the k distinguished peaks and the prominences of the rest of the persistence diagram.  By default, we try to detect the gap automatically. we sort the points in the persistence diagram by decreasing prominence, and then we look for the largest drop in the sequence of prominences.","category":"page"},{"location":"","page":"Home","title":"Home","text":"labels, intervals = compute_persistence(f, graph, Inf)\n\nplot(intervals)","category":"page"},{"location":"","page":"Home","title":"Home","text":"labels, intervals = compute_persistence(f, graph, 120)\nscatter(points[1,:], points[2,:], c = labels, aspect_ratio=1)","category":"page"},{"location":"","page":"Home","title":"Home","text":"tomato takes in the data points and three inputs: the neighborhood graph type, the density estimator type, and the merging parameter τ. ","category":"page"},{"location":"","page":"Home","title":"Home","text":"labels, intervals = tomato(points, BallGraph(0.1) , DTM(10), 120)\nscatter(points[1,:], points[2,:], c = labels, aspect_ratio=1)","category":"page"},{"location":"#Functions","page":"Home","title":"Functions","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Modules = [ClusteringToMATo]\nOrder   = [:function]","category":"page"},{"location":"#ClusteringToMATo.compute_density-Tuple{DTM, Any}","page":"Home","title":"ClusteringToMATo.compute_density","text":"compute_density(df, points)\n\n\n\n\n\n\n","category":"method"},{"location":"#ClusteringToMATo.compute_density-Tuple{GaussianCutoff, Any}","page":"Home","title":"ClusteringToMATo.compute_density","text":"compute_density(df, points)\n\n\n\n\n\n\n","category":"method"},{"location":"#ClusteringToMATo.compute_density-Tuple{GaussianNN, Any}","page":"Home","title":"ClusteringToMATo.compute_density","text":"compute_density(df, points)\n\n\n\n\n\n\n","category":"method"},{"location":"#ClusteringToMATo.compute_density-Tuple{KNNDensity, Any}","page":"Home","title":"ClusteringToMATo.compute_density","text":"compute_density(df, points)\n\n\n\n\n\n\n","category":"method"},{"location":"#ClusteringToMATo.compute_persistence-Tuple{Any, Any, Any}","page":"Home","title":"ClusteringToMATo.compute_persistence","text":"compute_persistence(f, graph, τ)\n\n\n\n\n\n\n","category":"method"},{"location":"#ClusteringToMATo.tomato-Tuple{Matrix{Float64}, Vararg{Any, 4}}","page":"Home","title":"ClusteringToMATo.tomato","text":"tomato(points, graph, k, q, τ)\n\n\nk : number of nearest neighbors to create the graph\nq : regularity parameter for the approximation of the density function\n\n\n\n\n\n","category":"method"},{"location":"#ClusteringToMATo.tomato-Tuple{Matrix{Float64}, Vector{Float64}, Any, Any}","page":"Home","title":"ClusteringToMATo.tomato","text":"tomato(points, f, δ, τ)\n\n\n\n\n\n\n","category":"method"},{"location":"#ClusteringToMATo.tomato-Tuple{Matrix{Float64}}","page":"Home","title":"ClusteringToMATo.tomato","text":"tomato(points; graph, k, q, τ)\n\n\npoints is a matrix of size nd × np where nd is the dimensionality and np is the number of points\n\n\n\n\n\n","category":"method"},{"location":"#Types","page":"Home","title":"Types","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Modules = [ClusteringToMATo]\nOrder   = [:type]","category":"page"},{"location":"#ClusteringToMATo.BallDensity","page":"Home","title":"ClusteringToMATo.BallDensity","text":"struct BallDensity <: ClusteringToMATo.AbstractDensityComputation\n\n\n\n\n\n","category":"type"},{"location":"#ClusteringToMATo.BallDensity-Tuple{Any}","page":"Home","title":"ClusteringToMATo.BallDensity","text":"BallDensity(δ)\n\n\n\n\n\n\n","category":"method"},{"location":"#ClusteringToMATo.BallGraph","page":"Home","title":"ClusteringToMATo.BallGraph","text":"struct BallGraph <: ClusteringToMATo.AbstractNeighborhoodGraph\n\n\n\n\n\n","category":"type"},{"location":"#ClusteringToMATo.DTM","page":"Home","title":"ClusteringToMATo.DTM","text":"struct DTM <: ClusteringToMATo.AbstractDensityComputation\n\n\n\n\n\n","category":"type"},{"location":"#ClusteringToMATo.GaussianCutoff","page":"Home","title":"ClusteringToMATo.GaussianCutoff","text":"struct GaussianCutoff <: ClusteringToMATo.AbstractDensityComputation\n\n\n\n\n\n","category":"type"},{"location":"#ClusteringToMATo.GaussianNN","page":"Home","title":"ClusteringToMATo.GaussianNN","text":"struct GaussianNN <: ClusteringToMATo.AbstractDensityComputation\n\n\n\n\n\n","category":"type"},{"location":"#ClusteringToMATo.KNNDensity","page":"Home","title":"ClusteringToMATo.KNNDensity","text":"struct KNNDensity <: ClusteringToMATo.AbstractDensityComputation\n\n\n\n\n\n","category":"type"},{"location":"#ClusteringToMATo.KNNGraph","page":"Home","title":"ClusteringToMATo.KNNGraph","text":"struct KNNGraph <: ClusteringToMATo.AbstractNeighborhoodGraph\n\n\n\n\n\n","category":"type"}]
}
